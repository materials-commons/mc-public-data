<div class="container">
  <div class="row">
    <div class="col-sm-7">
      <div class="details">
        <h4 class="title">{{ctrl.dataset.title}}</h4>
        <p class="small action-count"><span>{{ctrl.all_actions.views.length}} views </span>
          <span>{{ctrl.all_actions.appreciations.length}} Appreciations</span>
          <span class="pull-right theme"><i class="fa fa-fw fa-bookmark-o"></i>Bookmark</span></p>
        <div style="padding-left: 10px;"><b>Files ({{ctrl.dataset.datafiles.length}})</b></div>
        <hr/>
        <div class="row view-mode">
          <a class="theme" href="/app/test.jpg" download="files.zip"><i class="fa fa-fw fa-download"></i>Download
            All</a>
          <a class="theme" style="padding-left:40px;"><i class="fa fa-fw fa-th"></i></a>
          <a style="padding-left:5px; padding-right: 15px;"><i class="fa fa-fw fa-list"></i></a>
        </div>
        <div class="row images">
          <div dir-paginate="file in ctrl.dataset.files | itemsPerPage: 12" class="col-sm-3">
            <display-image file="file"></display-image>
          </div>
        </div>
      </div>
      <div class="row">
        <dir-pagination-controls></dir-pagination-controls>
      </div>
      <br>
      <div class="row">
        <div class="form-group">
          <label for="comment">Comments ({{ctrl.all_actions.comments.length}})</label>
          <hr style="margin-top: 5px;"/>
          <textarea ng-model="ctrl.comment" class="form-control" rows="5" id="comment"></textarea>
          <button ng-click="ctrl.addComment()" class="btn pull-right theme text-uppercase">Post</button>
        </div>
      </div>
      <div class="row" ng-repeat="comment in ctrl.all_actions.comments">
        <div class="col-sm-1">
          <i class="theme fa fa-fw fa-circle fa-2x"></i>
        </div>
        <div class="col-sm-10">
          <b>{{comment.firstName}} {{comment.lastName}}</b>
          <p class="padding-left: 20px;">{{comment.message}}</p>
        </div>
      </div>
    </div>

    <div class="col-sm-4 col-sm-offset-1">
      <h4>Description</h4>
      <p>Loreum ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's
        standard
        dummy text ever since the 1500s, when an unknown printer took a galley of type and scramble</p>
      <div class="form-horizontal">
        <div class="text-light">
          <div class="form-group">
            <label class="col-sm-2">DOI:</label>
            <div class="col-sm-10 theme">
              {{ctrl.dataset.DOI}}
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-2">Published:</label>
            <div class="col-sm-10">
              {{ctrl.dataset.birthtime}}
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-2">Authors:</label>
            <div class="col-sm-10">
                <span ng-repeat="a in ctrl.dataset.authors" class="theme">{{a}}<span
                  ng-show=" ! $last ">, </span></span>
            </div>
          </div>
        </div>
      </div>
      <br>
      <div class="row text-center">
        <div ng-if="ctrl.dataset.appreciate">
          <button ng-click="ctrl.removeAppreciate()" type="button" class="btn btn-circle btn-xl">
            <i class="fa fa-thumbs-up fa-1x" style="color:lightgrey"></i>
          </button>
          <p class="small theme">Appreciated</p>

        </div>
        <div ng-if="!ctrl.dataset.appreciate">
          <button ng-click="ctrl.appreciate()" type="button" class="btn btn-circle btn-xl">
            <i class="fa fa-thumbs-up fa-1x"></i>
          </button>
          <p class="small theme">Appreciate Work</p>
        </div>
      </div>
      <br>
      <h4>More data sets by these authors{{ctrl.dataset.appreciate}}</h4>
      <div class="form-horizontal" ng-repeat="ds in ctrl.other_datasets">
        <h5>{{ds.title}}</h5>
        <div class="text-light">
          {{ds.description}}
          <property-value property="Authors" value="ds.authors"></property-value>
          <property-value property="Files" value="ds.files.length"></property-value>
          <property-value property="DOI" value="ds.DOI" ui-sref="main.details({id: ds.id})"
                          apply="theme"></property-value>
        </div>
        <hr/>
      </div>
    </div>
  </div>
</div>
