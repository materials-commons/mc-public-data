<div class="container">
  <div class="row">
    <div class="col-sm-7">
      <div class="details">
        <h4 class="title">{{ctrl.dataset.title}}</h4>
        <p class="small action-count"><span>{{ctrl.all_actions.views.length}} views </span>
          <span>{{ctrl.all_actions.appreciations.length}} Appreciations</span>
          <span class="pull-right theme"><i class="fa fa-fw fa-bookmark-o"></i>Bookmark</span></p>
        <div style="padding-left: 10px;"><b>Files ({{ctrl.dataset.datafiles.length}})</b></div>
        <hr/>
        <div class="row view-mode">
          <a class="theme" href="/app/test.jpg" download="files.zip"><i class="fa fa-fw fa-download"></i>Download
            All</a>
          <a class="theme" style="padding-left:40px;"><i class="fa fa-fw fa-th"></i></a>
          <a style="padding-left:5px; padding-right: 15px;"><i class="fa fa-fw fa-list"></i></a>
        </div>
        <div class="row image-area">
          <div dir-paginate="file in ctrl.dataset.files | itemsPerPage: 12" class="col-sm-3">
            <display-image file="file"></display-image>
          </div>
        </div>
      <div class="row">
        <dir-pagination-controls></dir-pagination-controls>
      </div>
      <comment-directive comments="ctrl.all_actions.comments" dataset-id="ctrl.dataset.id"></comment-directive>
    </div>
    </div>
    <div class="col-sm-4 col-sm-offset-1">
      <div class="">
        <b class="title">Description</b>
        <p class="field-value">{{ctrl.dataset.description}}</p>
        <div class="form-horizontal">
          <div class="dataset">
            <property-value property="Authors" value="ctrl.dataset.authors" apply="theme"></property-value>
            <property-value property="Published on" value="ctrl.dataset.birthtime"></property-value>
            <property-value property="DOI" value="ctrl.dataset.DOI"></property-value>
          </div>
        </div>
        <br>
        <div class="row text-center">
          <div ng-if="ctrl.dataset.appreciate">
            <button ng-click="ctrl.removeAppreciate()" type="button" class="btn btn-circle btn-xl">
              <i class="fa fa-thumbs-up fa-1x" style="color:lightgrey"></i>
            </button>
            <p class="small theme">Appreciated</p>
          </div>
          <div ng-if="!ctrl.dataset.appreciate">
            <button ng-click="ctrl.appreciate()" type="button" class="btn btn-circle btn-xl">
              <i class="fa fa-thumbs-up fa-1x"></i>
            </button>
            <p class="small theme">Appreciate Work</p>
          </div>
        </div>
      </div>
      <div class="more-datasets">
        <h4>More data sets by these authors{{ctrl.dataset.appreciate}}</h4>
        <div class="form-horizontal" ng-repeat="ds in ctrl.other_datasets">
          <h4><a class="title" ui-sref="main.details({id: ds.id})">{{ds.title}}</a></h4>
          <p class="field-value">{{ds.description}} </p>
          <property-value property="Authors" value="ds.authors"></property-value>
          <property-value property="Files" value="ds.files.length"></property-value>
          <property-value property="DOI" value="ds.DOI" ui-sref="main.details({id: ds.id})"
                          apply="theme"></property-value>
          <hr/>
        </div>
      </div>
    </div>
  </div>
</div>
