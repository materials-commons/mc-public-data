<div class="container"><br>
  <div class="row">
    <mcpub-dataset-details-summary dataset="ctrl.dataset"></mcpub-dataset-details-summary>
  </div>
  <div class="row">
    <mcpub-dataset-details-otherds dataset="ctrl.dataset"></mcpub-dataset-details-otherds>
  </div>
  <div class="row">
      <div class="details">
        <hr class="top-seperator"/>
        <div class="row view-mode">
          <b class="text-left">Files ({{ctrl.dataset.files.length}})</b>
          <a ng-if="ctrl.user" class="theme" href="{{ctrl.zipFilePath}}" download="fullDataset.zip">
            <i class="fa fa-fw fa-download"></i>Download All Files</a>
          <a ng-if="ctrl.user" ng-click="ctrl.setView('thumbnail')" ng-class="{theme: ctrl.isActive('thumbnail')}"
             style="padding-left:40px;"><i class="fa fa-fw fa-th"></i></a>
          <a ng-if="ctrl.user" ng-click="ctrl.setView('list')" ng-class="{theme: ctrl.isActive('list')}"
             style="padding-left:5px; padding-right: 15px;"><i class="fa fa-fw fa-list"></i></a>
        </div>
        <div ng-if="ctrl.isActive('thumbnail')" class="row image-area">
          <div ng-if="ctrl.user" ng-click="ctrl.openImage(file)"
               dir-paginate="file in ctrl.dataset.files | itemsPerPage: 12"
               class="col-sm-3">
            <display-image file="file"></display-image>
          </div>
        </div>
        <div ng-if="ctrl.isActive('list')" class="row list-area" class="col-sm-10">
          <br>
          <table class="table table-hover">
            <thead class="field-value">
            <th ng-if="ctrl.user">Thumbnail</th>
            <th>File Name</th>
            <th>File Type</th>
            <th>size</th>
            </thead>
            <tbody>
            <tr ng-if="!ctrl.user"
                dir-paginate="file in ctrl.dataset.files | itemsPerPage: 12">
              <td ng-if="ctrl.user">
                <display-image file="file" mini-thumbnail="true"></display-image>
              </td>
              <td>{{file.name}}</td>
              <td>{{file.mediatype.mime}}</td>
              <td>{{file.size | bytesFilter}}</td>
            </tr>
            <tr ng-if="ctrl.user" ng-click="ctrl.openImage(file)"
                dir-paginate="file in ctrl.dataset.files | itemsPerPage: 12">
              <td ng-if="ctrl.user">
                <display-image file="file" mini-thumbnail="true"></display-image>
              </td>
              <td>{{file.name}}</td>
              <td>{{file.mediatype.mime}}</td>
              <td>{{file.size | bytesFilter}}</td>
            </tr>
            </tbody>
          </table>
        </div>
        <div class="row">
          <dir-pagination-controls></dir-pagination-controls>
        </div>
        <comment-directive comments="ctrl.all_actions.comments" user="ctrl.user"
                           dataset-id="ctrl.dataset.id"></comment-directive>
      </div>
    </div>
</div>
